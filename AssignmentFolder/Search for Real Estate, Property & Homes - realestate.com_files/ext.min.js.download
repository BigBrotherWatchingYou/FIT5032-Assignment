"use strict";var ExtLoader=function(e,t,i,n){var r=!!e.document.getElementById("postbid_if"),o=this;ExtLoader.prototype.sendLoadCommand=function(n){if(e.$sf&&e.$sf.ext&&e.$sf.ext.load){var o=n||t.getCurrentSize();r||e.$sf.ext.load({width:o.width,height:o.height,isAdLoaded:i.isAdLoaded(e)})}},ExtLoader.prototype.addOnLoadEventListener=function(){function r(e){var t=setInterval(function(){if(n.isResizable(e))return n.resizeAd(e),void clearInterval(t)},100);setTimeout(function(){var i={width:n.getResizedWidth(e),height:n.getResizedHeight(e)};n.sendResizedCommand(i),clearInterval(t)},5e3)}function s(){return!!e.document.getElementById(d)||(a(),!1)}function a(){var t=e.document.createElement("div");t.id=d,e.document.body.appendChild(t)}function c(){s()||e.addEventListener("load",function(){o.sendLoadCommand(),setTimeout(function(){if(i.isAdLoaded(e)&&t.isMultisize()){var o=e.document;n.isResizable(o)?n.resizeAd(o):r(o)}},0)})}var d="onLoadAdded";c();var u=e.document.write;e.document.write=function(t){u.call(e.document,t),c()}}},ExtResizer=function(e,t,i){function n(e){return!isNaN(e)}function r(e){if(!e)return{widths:[],heights:[]};var t=[],i=[];return e.split(",").forEach(function(e){var r=e.split("x");n(r[0])&&n(r[1])&&(t.push(parseInt(r[0])),i.push(parseInt(r[1])))}),{widths:t,heights:i}}function o(e,t){var i=e.reduce(function(e,i){var n=Math.abs(i-t);return void 0===e.diff||n<=e.diff?{diff:n,value:i}:e},{});return void 0!==i.value?i.value:Math.max.apply(null,e)}function s(e,t,i){var n=r(e);return{width:o(n.widths,t),height:o(n.heights,i)}}function a(e){return Math.min(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)}function c(e){return Math.min(e.body.scrollWidth,e.documentElement.scrollWidth,e.body.offsetWidth,e.documentElement.offsetWidth,e.body.clientWidth,e.documentElement.clientWidth)}function d(i){var n=e.ext.meta("availableSizes")||"0x0",r=t.getCurrentSize(),o=c(i),d=a(i);return{width:o,height:d,nearestSize:s(n.split(",").filter(function(e){return e!=r.width+"x"+r.height}).join(","),o,d)}}var u=this;if(!e||!e.ext)throw new Error("No safeframe external library");ExtResizer.prototype.isResizable=function(i){t.getCurrentSize();var n=e.ext.meta("availableSizes")||"0x0",o=r(n).heights,s=r(n).widths,d=Math.min.apply(null,o),u=Math.min.apply(null,s);return a(i)>=d&&c(i)>=u},ExtResizer.prototype.getResizedWidth=function(e){return d(e).nearestSize.width},ExtResizer.prototype.getResizedHeight=function(e){return d(e).nearestSize.height},ExtResizer.prototype.registerCurrentSize=function(i){var n=t.getCurrentSize();e.ext.register(n.width,n.height,i)},ExtResizer.prototype.sendResizedCommand=function(e){if(window.$sf&&window.$sf.ext&&window.$sf.ext.resized){var n=e||t.getCurrentSize();window.$sf.ext.resized({width:n.width,height:n.height,isAdLoaded:i.isAdLoaded(window)})}},ExtResizer.prototype.resizeAd=function(t){var i=JSON.stringify({type:"resizeAd",creativeWidth:this.getResizedWidth(t),creativeHeight:this.getResizedHeight(t),containerId:e.ext.meta("containerId"),adPosition:e.ext.meta("adPosition")});top.postMessage(i,"*");var n={width:this.getResizedWidth(t),height:this.getResizedHeight(t)};u.sendResizedCommand(n)}},ExtSasEmptyAdChecker=function(){function e(e){for(var t=e.children,i=0;i<t.length;i++)if("SCRIPT"!==t[i].nodeName)return!1;return!0}ExtSasEmptyAdChecker.prototype.isEmptyImage=function(e){return void 0!==e&&(e.indexOf("2x2_blank_pixel.gif")>=0||e.indexOf("17-grey.gif")>=0||e.indexOf("default.gif")>=0||e.indexOf("FCID=-4")>=0)},ExtSasEmptyAdChecker.prototype.isTableAdEmpty=function(e){for(var t=0;t<e.length;t++)if(!this.isEmptyImage(e[t].outerHTML))return!1;return!0},ExtSasEmptyAdChecker.prototype.isAdLoaded=function(t){var i=t.document.getElementById("sf_align")||t.document.body,n=i.getElementsByTagName("td");return n.length>0?!this.isTableAdEmpty(n):!this.isEmptyImage(i.outerHTML)&&!e(i)}},ExtSfMetaModel=function(e){if(!e&&!e.ext&&!e.ext.meta)throw new Error("No safeframe external library");ExtSfMetaModel.prototype.getCurrentSize=function(){var t=e.ext.meta("currentSize");if(!t)return{width:0,height:0};var i=t.split("x");return{width:parseInt(i[0]),height:parseInt(i[1])}},ExtSfMetaModel.prototype.isMultisize=function(){return"true"===e.ext.meta("isMultiSize")}};!function(e){function t(e,t){var i,n,r;try{i=Ge("head")[0],-1==e.search(/\{[^\}]*}/g)?((n=Ne.make("link")).type="text/css",n.rel="stylesheet",n.href=e):((n=Ne.make("style")).type="text/css",Fe?n.styleSheet.cssText=e:(r=ke.createTextNode(e),De(n,r))),t&&(n.id=t),De(i,n)}catch(e){}}function i(e){var t,i=window;try{e=e||i.event||{}}catch(t){e={type:q}}for(;t=yt.shift();)try{t(e)}catch(e){}try{P&&(i[ne]=P,i[re]=j)}catch(e){}try{F&&(i[te]=F,i[ie]=B)}catch(e){}Xe||Ke(i,J,d),Ke(i,q,c);try{i.onerror=U}catch(e){}try{lt&&(clearTimeout(lt),lt=0)}catch(e){}try{pt&&(clearTimeout(pt),pt=0)}catch(e){}try{mt&&(clearTimeout(mt),mt=0)}catch(e){}return i=P=F=j=B=ke=je=Me=t=U,1}function n(){try{mt&&(clearTimeout(mt),mt=0)}catch(e){}try{Fe&&e.onmessage&&(e.onmessage=U)}catch(e){}try{e.onerror=h}catch(e){}mt=setTimeout(n,Le)}function r(){try{document.open("text/html","replace"),document.write(""),document.close()}catch(e){}}function o(){var t=G;if(s(),Fe){try{pt&&-1!=pt&&(clearTimeout(pt),pt=0)}catch(e){}try{t=e==top&&-1!=pt}catch(e){t=G}if(t)return pt=-1,i(),void r();try{pt||(pt=setTimeout(o,Le))}catch(e){}}}function s(){var e,t=Ge("iframe"),i=0,n="";if(dt)for(;e=t[i++];)if(n=Qe(e,"src"),(n=n&&n.length>=9?n.substring(0,n.indexOf("/",9))[oe]():"")&&n==dt&&e.className!=Se)try{Ve(e)}catch(e){}}function a(){var e,t,i=0,n=N&&N.tgt||"_top";for(t=Ge("a"),"_self"==n&&(n="_top");(e=t[i++])&&(Qe(e,"target")!=n&&Qe(e,"target",n),!(i>10)););}function c(e){i(e),r()}function d(){Xe||(Xe=D,Ke(e,J,d),a())}function u(e){var t,i,n,r,o;try{t=e.data,i=e.source,e.origin}catch(e){}if(t&&i&&i==top&&(n=$e(t,U,U,D,D),r=n.guid,o=n.msg,ct==r&&o&&typeof o==Ce)){Ne.evtCncl(e);try{setTimeout(function(){y(o,e),n=e=r=o=U},1)}catch(e){}}}function f(){var e;try{gt.length>0&&(e=gt[0],v(Be(["cmd=",de,"&pos=",ht,"&errors=",e]),de)),lt&&(clearTimeout(lt),lt=0)}catch(e){}gt=[]}function h(e,t,i){gt.push(Be(["Error occurred inside SafeFrame:\nMessage: ",e,"\nURL:",t,"\nLine:",i]));try{lt&&(clearTimeout(lt),lt=0),lt=setTimeout(f,Le)}catch(e){}return D}function l(e){var t=Oe.noop,i=Object,n={get:t,set:t},r=G;if(e){if(e[Y])try{e[Y](X,t),e[Z](X,t),e[Y](K,t),e[Z](K,t),e[Y](Q,t),e[Z](Q,t),r=D}catch(e){r=G}if(!r&&i[ee])try{i[ee](e,X,n),i[ee](e,K,n),i[ee](e,Q,nobg),r=D}catch(e){r=G}}return r}function p(i){var n,r,o,s,a,f,p=G,m=D;i=i&&i instanceof Object?i:{};try{r=e.name}catch(e){}try{e.name=""}catch(e){}if(!r)return i.status=500.101,p;try{top==Me?($=$e(r,U,U,D,D),s=Oe.time(),ct=$.guid,f=s-(a=Ue(ct.replace(/[^_]*_(\d+)_\d+_\d+/g,"$1"),0)),p=ct&&a&&f>0&&f<Re,$.loc&&($.loc=unescape($.loc)),p||(i.status=500.104)):i.status=500.102}catch(e){$=ct=U,p=G,i.status=500.103,null==(e=e||{})[V]&&(e[V]="null error"),h("Error during construction: "+e[V])}if(p)try{if(N=$.conf,ft=e.name=N.dest,ht=N.id,st=$.meta,dt=$.host,ot=$.geom,ut=Oe.cbool($.html5),at=Oe.cbool($.has_focus),o=N.bg,ot&&((ot=$e(je(ot),U,U,D,D)).self&&ot.exp||(ot=U)),dt||(dt=ke.referrer,dt=dt.substring(0,dt.indexOf("/",9))),o&&t(Be(["body { background-color: ",o,"; }"]),"sf_bg_css"),"_self"==(o=N.tgt)&&(N.tgt="_top"),o||(N.tgt="_top"),"_top"!=o){for(;Ve(Ge("base")[0]););n=Ne.make("base"),Qe(n,"target",o),De(Ge("head")[0],n)}Fe&&(P=e[ne],j=e[re]),F=e[te],B=e[ie],qe(e,q,c),qe(e,J,d),qe(e,V,u),l(e),l(e.__proto__),l(e.Window&&e.Window.prototype)}catch(e){i.status=500.105,$=N=ct=U,m=G}else $=ct=U,m=G;return m}function m(){var e,i;if(i=Be(N&&N.css),e=Be($&&$.html),i&&t(i=je(i),"sf_custom_css"),e){e=je(e);try{ke.write(e),o(),n()}catch(e){h("Error while rendering content: "+e[V])}}}function g(e,t,i){return Pe&&(msg_clientfb=Ne.msgclient_fb),e&&Pe&&Pe[e]&&Pe[e](t,i)}function y(e,t){var i,n,r=G,o={};if(e&&(n=e.geom||"",i=e.cmd,n&&(ot=$e(je(n),U,U,D,D))),o.cmd=i,o.value=o.info=e&&e.value,o.reason=e&&e.reason,i==ye)r=D,Ye&&(rt=U,Ye=G,Ze=D,b(),Ze=G,x(ye));else if(i==xe)r=D,rt=U,x(xe);else if(i==ge)r=D,Ye&&(rt=U,Ye=G,x(ye));else if(i==me)r=D,rt&&(rt=U),Ye=D,x(me+"ed");else if(i==le)x(le);else if(i==pe)o.info=o.value=Oe.cbool(o.value),at=o.value,x(pe,o);else if(i==we)r=D,rt&&(rt=U,Ye=D,o=e&&e.value,x(we,o));else if(i==be)r=D,rt&&(rt=U,Ye=D,x(be,o));else if(i==ve)r=D,rt&&(rt=U,Ye=D,x(ve,o));else if(i==ue)r=D,rt&&(rt=U),Ye=D,x(ue,o);else if(i==he){r=D;var s=document.elementFromPoint(e.x,e.y);null!==s&&s.click()}return e=U,r}function v(e,t){var i,n=Oe.guid("sf_pnd_cmd"),r=$.dest,o=G,s=Oe.time();if(e&&t){if(i=$e({msg:e,id:r,guid:ct,cmd:t}),rt={id:n,sent:s,cmd:t},setTimeout(function(){rt&&rt.id==n&&(t!=se&&"exp-push"!=t||(Ze=D,b(),Ze=G),x(ve+":"+t+":timeout")),n=o=s=t=e=rt=i=U},Te),ut)try{top.postMessage(i.toString(),"file"==dt||""==dt?"*":dt),o=D}catch(e){o=G}o||g("send",i)}}function x(e,t){try{nt(e,t)}catch(e){}}function w(e,t){var i,n,r=Je("sf_align"),o=r.style;i=e?"right:0px;":"left:0px;",n=t?"bottom:0px;":"top:0px;",o.cssText="position:absolute;"+i+n,r=o=U}function b(){return Ze||et&&Ye&&!rt?D:G}function E(e){v(Be(["cmd=",ue,"&pos=",ht,"&width=",e.width,"&height=",e.height,"&isAdLoaded=",e.isAdLoaded,"&loadedType=",e.loadedType]),ue)}function _(e){v(Be(["cmd=",fe,"&pos=",ht,"&width=",e.width,"&height=",e.height,"&isAdLoaded=",e.isAdLoaded]),fe)}function z(e){v(Be(["cmd=",Ae,"&pos=",ht,"&bidReceived=",e.bidReceived]),Ae)}function S(e,t,i){!et&&ct&&(e=Ue(e,0,0),t=Ue(t,0,0),tt=e,it=t,et=D,nt=Oe.callable(i)?i:U)}function T(e){nt=e}function L(e,t,i){var n,r,o,s,a,c,d,u=G,f=G,h=i?"exp-push":se,l=["cmd=",h,"&pos=",ht],p=0,m=0;if(et&&(!i||O("exp-push"))){if(e&&typeof e==Ce){if(n=Ue(e.r,0,0),r=Ue(e.b,0,0),o=Ue(e.t,0,0),s=Ue(e.l,0,0),e.push){if(!O("exp-push"))return;h="exp-push",l[1]=h}!n&&s&&(u=D,p=-1*s),n&&!s&&(p=n),!r&&o&&(f=D,m=-1*o),r&&!o&&(m=r),(o&&r||s&&n?G:D)?(w(u,f),l.push("&dx=",p,"&dy=",m),v(Be(l),h)):(c=(a=Je("sf_align"))&&a.style,d=["position:absolute;"],o&&r?d.push("top:",o,"px;"):o?d.push("bottom:0px;"):r&&d.push("top:0px;"),s&&n?d.push("left:",s,"px;"):s?d.push("right:0px;"):r&&d.push("left:0px;"),c&&(c.cssText=Be(d)),l.push("&exp_obj=",escape($e(e))),v(Be(l),h))}else{if(e=Ue(e,0),t=Ue(t,0),e<=0&&t<=0)return;u=e<=0,f=t<=0,l.push("&dx=",e,"&dy=",t),v(Be(l),h)}return D}}function R(){b()&&v(Be(["cmd=",ae,"&pos=",ht]),ae)}function C(){return ot}function A(e,t){var i,n="";return st&&(t?t in st?n=Be(st[t][e]):st.non_shared&&t in st.non_shared&&(n=Be(st.non_shared[t][e])):(i=st.shared)&&typeof i==Ce&&(n=Be(i[e]))),n}function k(){if(rt){if(rt.cmd==se)return ze;if(rt.cmd==ae)return STATUS}return Ye?_e:Ee}function M(e,t){var i=t==U,n=i?"read-cookie":"write-cookie",r=["cmd=",n,"&pos=",ht,"&cookie=",e];i||(r.push("&value="),r.push(t.value)),v(Be(r),n)}function I(e){v(Be(["cmd=",ce,"&pos=",ht,"&msg=",e]),ce)}function H(){var e,t=Ue(ot&&ot.self&&ot.self.iv,-1,0);return t>=0&&(e=Math.floor(100*t)),e}function W(){return at||document.hasFocus()}function O(e){var t=$.conf,i=t&&t.supports||G;return i&&((e=Be(e))?"0"==(i=i[e]||G)&&(i=G):i=Oe.mix({},i)),i}var $,N,P,F,j,B,U=null,D=!0,G=!1,J="load",V="message",q="un"+J,K="on"+q,Q="on"+V,X="on"+J,Y="__defineGetter__",Z="__defineSetter__",ee="__defineProperty__",te="addEventListener",ie="removeEventListener",ne="attachEvent",re="detachEvent",oe="toLowerCase",se="exp-ovr",ae="collapse",ce="msg",de="error",ue="loaded",fe="resized",he="click_at_location",le="geom-update",pe="focus-change",me="expand",ge=ae,ye=ge+"d",ve="failed",xe=ce,we="read-cookie",be="write-cookie",Ee=ye,_e=me+"ed",ze=me+"ing",Se="sf",Te=4e3,Le=3e3,Re=3e4,Ce="object",Ae="postbid-complete",ke=e&&e.document,Me=e&&e.parent,Ie=e&&e.$sf,He=Ie&&Ie.lib,We=Ie&&Ie.env,Oe=He&&He.lang,$e=Oe&&Oe.ParamHash,Ne=He&&He.dom,Pe=(Ne&&Ne.iframes,Ne&&Ne.msgclient_fb),Fe=We&&We.isIE,je=e&&e.unescape,Be=Oe&&Oe.cstr,Ue=Oe&&Oe.cnum,De=Ne&&Ne.append,Ge=Ne&&Ne.tags,Je=Ne&&Ne.elt,Ve=Ne&&Ne.purge,qe=Ne&&Ne.attach,Ke=Ne&&Ne.detach,Qe=Ne&&Ne.attr,Xe=G,Ye=G,Ze=G,et=G,tt=0,it=0,nt=U,rt=U,ot=U,st=U,at=G,ct="",dt="",ut=G,ft="",ht="",lt=0,pt=0,mt=0,gt=[],yt=[];!function(){var e,t,i={};if(Oe&&Ne)if(p(i))Oe.def("ext",{version:1,register:S,expand:L,collapse:R,geom:C,meta:A,status:k,supports:O,cookie:M,message:I,inViewPercentage:H,winHasFocus:W,load:E,updateCallback:T,loadPostbid:z,resized:_},Ie,D),m();else try{e=Ge("head")[0],(t=Ne.make("script")).type="text/plain",t.text="\x3c!-- Construction of SafeFrame failed: "+(i.status||"unknown")+" --\x3e",De(e,t)}catch(e){}}()}(window);